{"ast":null,"code":"import _slicedToArray from\"/Users/azamatalishev/dev/Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import emailjs from'emailjs-com';import{useSelector}from'react-redux';import{useRef,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EmailForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),emailValue=_useState2[0],setEmailValue=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),messageValue=_useState4[0],setMessageValue=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),emailErrorState=_useState6[0],setEmailError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),messageErrorState=_useState8[0],setMessageError=_useState8[1];var theme=useSelector(function(state){return state.theme;});var emailInput=useRef(null);var emailError=useRef(null);var messageInput=useRef(null);var messageError=useRef(null);var _getStyles=getStyles(theme),_getStyles2=_slicedToArray(_getStyles,3),headerColor=_getStyles2[0],inputColor=_getStyles2[1],labelColor=_getStyles2[2];var focusEmail=function focusEmail(){return emailInput.current.focus();};var focusMessage=function focusMessage(){return messageInput.current.focus();};var checkValue=function checkValue(e){return e===\"\"?\"\":\"with-input\";};var handleChange=function handleChange(e){switch(e.target.name){case'email':checkEmail(e.target.value);setEmailValue(e.target.value);break;case'message':checkMessage(e.target.value);setMessageValue(e.target.value);break;default:break;}};var sendEmail=function sendEmail(e){e.preventDefault();checkEmail();checkMessage();if(emailErrorState===null||emailErrorState||messageErrorState===null||messageErrorState){return;}emailjs.sendForm('service_qyp8yfr','template_dlyefrm',e.target,'user_IGuFOYMswP5iM0AcORkLj').then(function(result){console.log(result.text);},function(error){console.log(error.text);});e.target.reset();};var checkMessage=function checkMessage(){var message=arguments.length>0&&arguments[0]!==undefined?arguments[0]:messageValue;if(message.trim()!==\"\"){messageError.current.innerText=\"\";setMessageError(false);}else{messageError.current.innerText=\"Please enter a message\";setMessageError(true);}};var checkEmail=function checkEmail(){var email=arguments.length>0&&arguments[0]!==undefined?arguments[0]:emailValue;if(emailIsValid(email)){emailError.current.innerText=\"\";setEmailError(false);}else{emailError.current.innerText=\"Please enter a valid email address\";setEmailError(true);}};var checkError=function checkError(error){if(error===null){return\"\";}else if(error===true){return\"has-error\";}else{return\"valid\";}};var emailIsValid=function emailIsValid(email){return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);};return/*#__PURE__*/_jsx(\"section\",{className:\"section section-email\",id:\"contact\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendEmail,className:\"email-form\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"contact-header \".concat(headerColor),children:\"Contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"contact-input \".concat(inputColor),ref:emailInput,onChange:handleChange,value:emailValue,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"label\",{className:\"\\n              contact-label \\n              \".concat(labelColor,\" \\n              \").concat(checkValue(emailValue),\"\\n              \").concat(checkError(emailErrorState),\"\\n            \"),htmlFor:\"email\",onClick:focusEmail,children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-error\",ref:emailError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"message\",className:\"contact-input \".concat(inputColor),ref:messageInput,onChange:handleChange,value:messageValue,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"label\",{className:\"\\n              contact-label \\n              \".concat(labelColor,\" \\n              \").concat(checkValue(messageValue),\"\\n              \").concat(checkError(messageErrorState),\"\\n            \"),htmlFor:\"message\",onClick:focusMessage,children:\"Message\"}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-error\",ref:messageError})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-submit-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"contact-submit\",value:\"Send Message\"})})]})});}var getStyles=function getStyles(theme){if(theme===\"dark\"){return[\"dark-title\",\"dark-contact-input\",\"dark-contact-label\"];}else{return[\"light-title\",\"light-contact-input\",\"light-contact-label\"];}};export default EmailForm;","map":{"version":3,"sources":["/Users/azamatalishev/dev/Test/src/components/EmailForm/index.js"],"names":["emailjs","useSelector","useRef","useState","EmailForm","emailValue","setEmailValue","messageValue","setMessageValue","emailErrorState","setEmailError","messageErrorState","setMessageError","theme","state","emailInput","emailError","messageInput","messageError","getStyles","headerColor","inputColor","labelColor","focusEmail","current","focus","focusMessage","checkValue","e","handleChange","target","name","checkEmail","value","checkMessage","sendEmail","preventDefault","sendForm","then","result","console","log","text","error","reset","message","trim","innerText","email","emailIsValid","checkError","test"],"mappings":"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","sourcesContent":["import emailjs from 'emailjs-com'\nimport { useSelector } from 'react-redux'\nimport { useRef, useState } from \"react\"\n\nfunction EmailForm() {\n  const [emailValue, setEmailValue] = useState(\"\")\n  const [messageValue, setMessageValue] = useState(\"\")\n  const [emailErrorState, setEmailError] = useState(null)\n  const [messageErrorState, setMessageError] = useState(null)\n\n  const theme = useSelector(state => state.theme)\n\n  const emailInput = useRef(null)\n  const emailError = useRef(null)\n  const messageInput = useRef(null)\n  const messageError = useRef(null)\n\n  const [headerColor, inputColor, labelColor] = getStyles(theme)\n\n  const focusEmail = () => emailInput.current.focus()\n  const focusMessage = () => messageInput.current.focus()\n  const checkValue = e => e === \"\" ? \"\" : \"with-input\" \n\n  const handleChange = e => {\n    switch (e.target.name) {\n      case 'email':\n        checkEmail(e.target.value)\n        setEmailValue(e.target.value)\n        break\n      \n      case 'message':\n        checkMessage(e.target.value)\n        setMessageValue(e.target.value)\n        break\n\n      default:\n        break\n    }\n  }\n\n  const sendEmail = (e) => {\n    e.preventDefault()\n    \n    checkEmail()\n    checkMessage()\n\n    if (emailErrorState === null || emailErrorState || \n        messageErrorState === null || messageErrorState) {\n      return\n    }\n    \n    emailjs.sendForm('service_qyp8yfr', 'template_dlyefrm', e.target, \n    'user_IGuFOYMswP5iM0AcORkLj')\n      .then((result) => {\n          console.log(result.text)\n      }, (error) => {\n          console.log(error.text)\n      })\n\n    e.target.reset()\n  }\n\n  const checkMessage = (message = messageValue) => {\n    if (message.trim() !== \"\") {\n      messageError.current.innerText = \"\"\n      setMessageError(false)\n    } else {\n      messageError.current.innerText = \"Please enter a message\"\n      setMessageError(true)\n    }\n  }\n\n  const checkEmail = (email = emailValue) => {\n    if (emailIsValid(email)) {\n      emailError.current.innerText = \"\"\n      setEmailError(false)\n    } else {\n      emailError.current.innerText = \"Please enter a valid email address\"\n      setEmailError(true)\n    }\n  }\n\n  const checkError = (error) => {\n    if (error === null) {\n      return \"\"\n    } else if (error === true) {\n      return \"has-error\"\n    } else {\n      return \"valid\"\n    }\n  }\n  \n  const emailIsValid = (email) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\n  }\n\n  return (\n    <section className=\"section section-email\" id=\"contact\">\n      <form onSubmit={sendEmail} className=\"email-form\">\n        <h1 className={`contact-header ${headerColor}`}>Contact</h1>\n\n        <div className=\"contact-input-container\">\n          <input \n            type=\"text\" \n            name=\"email\" \n            className={`contact-input ${inputColor}`}\n            ref={emailInput} \n            onChange={handleChange}\n            value={emailValue} \n            autoComplete=\"off\"\n          />\n          <label \n            className={`\n              contact-label \n              ${labelColor} \n              ${checkValue(emailValue)}\n              ${checkError(emailErrorState)}\n            `} \n            htmlFor=\"email\" \n            onClick={focusEmail} >\n            Email\n          </label>\n          <div \n            className=\"contact-error\"\n            ref={emailError}\n          ></div>\n        </div>\n\n        <div className=\"contact-input-container\">\n          <input \n            type=\"text\" \n            name=\"message\" \n            className={`contact-input ${inputColor}`}\n            ref={messageInput} \n            onChange={handleChange}\n            value={messageValue} \n            autoComplete=\"off\"\n          />\n          <label \n            className={`\n              contact-label \n              ${labelColor} \n              ${checkValue(messageValue)}\n              ${checkError(messageErrorState)}\n            `} \n            htmlFor=\"message\"\n            onClick={focusMessage} >\n            Message\n          </label>\n          <div \n            className=\"contact-error\"\n            ref={messageError}\n          ></div>\n        </div>\n\n        <div className=\"contact-submit-container\">\n          <input type=\"submit\" className=\"contact-submit\"\n            value=\"Send Message\" />\n        </div>\n      </form>\n    </section>\n  )\n}\n\nconst getStyles = (theme) => {\n\n  if (theme === \"dark\") {\n    return [\"dark-title\", \"dark-contact-input\", \"dark-contact-label\"]\n  } else {\n    return [\"light-title\", \"light-contact-input\", \"light-contact-label\"]\n  }\n\n}\n\nexport default EmailForm"]},"metadata":{},"sourceType":"module"}